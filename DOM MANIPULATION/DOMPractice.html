<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .win {
        background-color: green;
      }
      .lose {
        background-color: brown;
      }
    </style>
  </head>

  <body>
    <section id="gs">
      <h2>Golden State</h2>
    </section>

    <section id="hr">
      <h2>Houston Rocket</h2>
    </section>
    <script>
      const warriorsGames = [
        {
          awayTeam: {
            team: "Golden State",
            points: 119,
            isWinner: true,
          },
          homeTeam: {
            team: "Houston",
            points: 106,
            isWinner: false,
          },
        },
        {
          awayTeam: {
            team: "Golden State",
            points: 105,
            isWinner: false,
          },
          homeTeam: {
            team: "Houston",
            points: 127,
            isWinner: true,
          },
        },
        {
          homeTeam: {
            team: "Golden State",
            points: 126,
            isWinner: true,
          },
          awayTeam: {
            team: "Houston",
            points: 85,
            isWinner: false,
          },
        },
        {
          homeTeam: {
            team: "Golden State",
            points: 92,
            isWinner: false,
          },
          awayTeam: {
            team: "Houston",
            points: 95,
            isWinner: true,
          },
        },
        {
          awayTeam: {
            team: "Golden State",
            points: 94,
            isWinner: false,
          },
          homeTeam: {
            team: "Houston",
            points: 98,
            isWinner: true,
          },
        },
        {
          homeTeam: {
            team: "Golden State",
            points: 115,
            isWinner: true,
          },
          awayTeam: {
            team: "Houston",
            points: 86,
            isWinner: false,
          },
        },
        {
          awayTeam: {
            team: "Golden State",
            points: 101,
            isWinner: true,
          },
          homeTeam: {
            team: "Houston",
            points: 92,
            isWinner: false,
          },
        },
      ];

      document.body.style.fontSize = "1.2rem";

      //the function is so we can call it twice for different team without manually coding it twice.
      const makeData = (games, targetTeam) => {
        const parentUl = document.createElement("ul");
        for (let game of games) {
          const gameLi = document.createElement("li");
          gameLi.innerHTML = scoreLine(game);
          //if the target team won the game i.e if the isWinner is true, apply the win class and if not apply the lose class.
          gameLi.classList.add(Winner(game, targetTeam) ? "win" : "lose");
          parentUl.append(gameLi);
        }
        return parentUl;
      };

      const Winner = ({ awayTeam, homeTeam }, targetTeam) => {
        const target = homeTeam.team === targetTeam ? homeTeam : awayTeam; //it brings out our team either golden state or houston. if we set our target team to Golden state, bring out all the  golden state in the game, same with Houston, when is set to Houston, bring out all the Houston in the game
        console.log(target);
        return target.isWinner; //it means whether the target team won the game or not
      };

      const scoreLine = ({ awayTeam, homeTeam }) => {
        const { team: ateam, points: apoint } = awayTeam;
        const { team: hteam, points: hpoint } = homeTeam;
        let scoreLine;
        if (apoint > hpoint) {
          scoreLine = `<b>${apoint}</b>- ${hpoint}`;
        } else {
          scoreLine = `${apoint} - <b>${hpoint}</b>`;
        }
        return `${ateam} vs ${hteam} ${scoreLine}`;
      };

      const GoldenSection = document.querySelector("#gs");
      const chart1 = makeData(warriorsGames, "Golden State");
      GoldenSection.append(chart1);

      const HoustonSection = document.querySelector("#hr");
      const chart2 = makeData(warriorsGames, "Houston");
      HoustonSection.append(chart2);
    </script>
  </body>
</html>
